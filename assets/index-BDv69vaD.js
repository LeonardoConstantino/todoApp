(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const D={eventHandlers:new Map,initializedContainers:new Set,handlerId:0,init(e=document.body){if(this.initializedContainers.has(e))return;["click","submit","change","input","keyup","keydown","mouseenter","mouseleave","focus","blur"].forEach(s=>{e.addEventListener(s,a=>{let o=a.target;if(o)for(;o&&o!==e&&o instanceof HTMLElement;){const r=o.dataset.handlerId;if(r){const c=this.eventHandlers.get(r);if(c&&c[s]){c[s](a),a.stopPropagation();break}}o=o.parentElement}},{passive:["scroll","touchmove"].includes(s)})}),this.initializedContainers.add(e)},registerEventHandlers(e,t){const s=`h${++this.handlerId}`,a={};return Object.entries(t).forEach(([o,r])=>{const c=o.replace(/^on/i,"").toLowerCase();a[c]=r}),this.eventHandlers.set(s,a),e.dataset.handlerId=s,s},removeEventHandlers(e){this.eventHandlers.delete(e)},cleanup(e){const t=e.dataset.handlerId;t&&(this.removeEventHandlers(t),delete e.dataset.handlerId,--this.handlerId),e.querySelectorAll("[data-handler-id]").forEach(s=>{const a=s,o=a.dataset.handlerId;o&&(this.removeEventHandlers(o),delete a.dataset.handlerId,--this.handlerId)})}},w=({type:e,props:t={}},s=!1,a=document.body)=>{try{if(D.init(document.body),e!=null&&typeof e!="string")throw new Error(`Invalid element type: ${e}`);const o=e?document.createElement(e):document.createTextNode(t.nodeValue||"");if(e){const r={},c={};Object.entries(t).forEach(([m,u])=>{m.startsWith("on")&&typeof u=="function"?r[m]=u:["children","nodeValue"].includes(m)||(c[m]=u)}),o instanceof HTMLElement&&(Object.keys(r).length>0&&D.registerEventHandlers(o,r),Object.entries(c).forEach(([m,u])=>{if(typeof u!="string"&&typeof u!="number")throw new Error(`Invalid attribute value for ${m}: ${u}`);const f=typeof u=="number"?String(u):u;o.setAttribute(m,f)}));const l=document.createDocumentFragment();(Array.isArray(t.children)?t.children:[]).forEach(m=>{const u=w(m,!1,a);u&&l.appendChild(u)}),o.appendChild(l)}return s?a.appendChild(o):o}catch(o){throw console.error("Error rendering element:",o),o}},G={"pt-br":{app:{title:"📋 Lista de Tarefas",modalLang:{title:"Escolha uma nova lingua."},modalDeleteTasks:{title:"Tem certeza de que deseja remover todas as tarefas?"},modalShareTasks:{title:"Compartilhar Tarefas!"},"pt-br":"Português 🇧🇷","en-us":"English 🇺🇸","es-es":"Español 🇪🇸"},notifications:{appStarted:"🚀 O aplicativo iniciado com sucesso!",startError:e=>`❌ Ocorreu um erro ao iniciar o aplicativo. ${e}`,themeToggled:e=>`🌓 Alternar Tema para ${e}`,themeChanged:e=>`Tema alterado para ${e} 🌓`,priorityUpdated:e=>`🔄 Prioridade alterada para ${e}`,tasksAdded:"✅ Tarefa(s) adicionada(s) com sucesso!",filtersApplied:"🎯 Filtros aplicados com sucesso!",taskStatusChanged:e=>`Tarefa "${e.title}" ${e.completed?"concluída":"pendente"}!`,taskNotFound:"⚠️ Tarefa não encontrada!",taskDeleted:e=>`🗑️ Tarefa "${e.title}" excluída com sucesso!`,allTasksDeleted:"🗑️ Todas as tarefas excluídas com sucesso!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,s)=>`Total: ${e} | Pendentes: ${t} | Concluídas: ${s} 📊`,languageSelected:e=>`🌐 ${e} Selecionado com sucesso! Clique em OK para aplicar!`,taskEmpty:"📋 Lista de Tarefas Vazia!",shareTasks:{success:"🎉 Tarefas compartilhadas com sucesso!",error:"❌ Erro ao compartilhar tarefas. Tente novamente.",unsupported:"⚠️ Compartilhamento de tarefas não é suportado neste navegador."}},placeholders:{taskInput:"📝 Digite suas tarefas (uma por linha)",search:"Pesquisar Tarefas"},priorities:{low:"Baixa 🔵",medium:"Média 🟠",high:"Alta 🔴"},actions:{addTasks:"➕ Adicionar Tarefas",deleteTasks:"🗑️ Remover Tarefas",toggleTheme:"🌓 Alternar Tema",deleteTaskConfirm:e=>`Excluir tarefa "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Excluir todas as tarefas (${e}) 🔄🗑️`,changeLanguage:"🌐 Mudar Idioma",toggleLanguage:"🌐 Mudar Idioma! Português, English e Español",toggleTask:(e,t)=>e?`🛑 Marcar "${t}" como pendente.`:`✅ Marcar "${t}" como concluída.`,tasksView:e=>e?"Descompactar 📋":"Compactar 📋",shareTasks:"🔗 Compartilhar Tarefas",chooseShareOptions:"Escolha as opções de compartilhamento:"},filters:{status:{all:"Todos 📋",completed:"Concluídas ✅",pending:"Pendentes ⏳"},priority:{all:"Todos 📋",low:"Baixa 🔵",medium:"Média 🟠",high:"Alta 🔴"}},taskDetails:{created:e=>`⏱️ Criada: ${e}`,completed:e=>`⏱️ Concluída: ${e}`,timeSpent:e=>`⏱️ Tempo: ${e}`},labels:{taskList:"📋 Lista de Tarefas",delete:"Excluir 🗑️",tolTipCheckBoxShare:e=>`Selecione o que exibir no compartilhamento: ${e}`},infos:{sizeInfo:"Os tamanhos são aproximados e podem variar. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Última tarefa concluída: ${e.title} a ${L(+new Date(e.completedAt),+new Date)}`:"Nenhuma tarefa concluída",selectInfo:e=>`📋 Selecione entre as seguintes opções: ${Object.values(e).join(", ")}`,searchInfo:"🔍 Pesquise pelo titulo."}},"en-us":{app:{title:"📋 Task List",modalLang:{title:"Choose a new language."},modalDeleteTasks:{title:"Are you sure you want to remove all tasks?"},modalShareTasks:{title:"Share Tasks!"},"pt-br":"Portuguese 🇧🇷","en-us":"English 🇺🇸","es-es":"Spanish 🇪🇸"},notifications:{appStarted:"🚀 Application started successfully!",startError:e=>`❌ An error occurred while starting the application. ${e}`,themeToggled:e=>`🌓 Toggle Theme to ${e}`,themeChanged:e=>`Theme changed to ${e} 🌓`,priorityUpdated:e=>`🔄 Priority updated to ${e}`,tasksAdded:"✅ Task(s) added successfully!",filtersApplied:"🎯 Filters applied successfully!",taskStatusChanged:e=>`Task "${e.title}" ${e.completed?"completed":"pending"}!`,taskNotFound:"⚠️ Task not found!",taskDeleted:e=>`🗑️ Task "${e.title}" deleted successfully!`,allTasksDeleted:"🗑️ All tasks deleted successfully!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,s)=>`Total: ${e} | Pending: ${t} | Completed: ${s} 📊`,languageChanged:e=>`Language changed to ${e} 🌐`,languageSelected:e=>`🌐 ${e} Language selected successfully! Click OK to apply!`,taskEmpty:"📋 Task List Empty!",shareTasks:{success:"🎉 Tasks shared successfully!",error:"❌ Error sharing tasks. Try again.",unsupported:"⚠️ Sharing tasks is not supported in this browser."}},placeholders:{taskInput:"📝 Enter your tasks (one per line)",search:"Search tasks"},priorities:{low:"Low 🔵",medium:"Medium 🟠",high:"High 🔴"},actions:{addTasks:"➕ Add Tasks",deleteTasks:"🗑️ Remove Tasks",toggleTheme:"🌓 Toggle Theme",deleteTaskConfirm:e=>`Delete task "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Delete all tasks (${e}) 🔄🗑️`,changeLanguage:"🌐 Change Language",toggleLanguage:"🌐 Choose between Portuguese, English and Spanish",toggleTask:(e,t)=>e?`🛑 Mark "${t}" as pending.`:`✅ Mark "${t}" as completed.`,tasksView:e=>e?"Uncompact 📋":"Compact 📋",shareTasks:"🔗 Share Tasks",chooseShareOptions:"Choose the sharing options:"},filters:{status:{all:"All 📋",completed:"Completed ✅",pending:"Pending ⏳"},priority:{all:"All 📋",low:"Low 🔵",medium:"Medium 🟠",high:"High 🔴"}},taskDetails:{created:e=>`⏱️ Created: ${e}`,completed:e=>`⏱️ Completed: ${e}`,timeSpent:e=>`⏱️ Time: ${e}`},labels:{taskList:"📋 Task List",delete:"Delete 🗑️",tolTipCheckBoxShare:e=>`Select what to display in the share: ${e}`},infos:{sizeInfo:"The sizes are approximate and may vary. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Last completed task: ${e.title} at ${L(+new Date(e.completedAt),+new Date)}`:"No tasks completed",selectInfo:e=>`📋 Select between the following options: ${Object.values(e)}`,searchInfo:"🔍 Search for title."}},"es-es":{app:{title:"📋 Lista de Tareas",modalLang:{title:"Elige un nuevo idioma."},modalDeleteTasks:{title:"¿Estás seguro de querer eliminar todas las tareas?"},modalShareTasks:{title:"¡Comparte tus tareas!"},"pt-br":"Portugués 🇧🇷","en-us":"Inglés 🇺🇸","es-es":"Español 🇪🇸"},notifications:{appStarted:"🚀 ¡Aplicación iniciada con éxito!",startError:e=>`❌ Ocurrió un error al iniciar la aplicación. ${e}`,themeToggled:e=>`🌓 Cambiar Tema a ${e}`,themeChanged:e=>`Tema cambiado a ${e} 🌓`,priorityUpdated:e=>`🔄 Prioridad cambiada a ${e}`,tasksAdded:"✅ ¡Tarea(s) añadida(s) con éxito!",filtersApplied:"🎯 ¡Filtros aplicados con éxito!",taskStatusChanged:e=>`Tarea "${e.title}" ${e.completed?"completada":"pendiente"}!`,taskNotFound:"⚠️ ¡Tarea no encontrada!",taskDeleted:e=>`🗑️ Tarea "${e.title}" eliminada con éxito!`,allTasksDeleted:"🗑️ ¡Todas las tareas eliminadas con éxito!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,s)=>`Total: ${e} | Pendientes: ${t} | Completadas: ${s} 📊`,languageChanged:e=>`Idioma cambiado a ${e} 🌐`,languageSelected:e=>`🌐 ${e} Idioma seleccionado con éxito! Click OK para aplicar!`,taskEmpty:"📋 Lista de Tareas Vacía!",shareTasks:{success:"🎉 ¡Tareas compartidas con éxito!",error:"❌ Error al compartir tareas. Inténtalo de nuevo.",unsupported:"⚠️ Compartir tareas no es compatible en este navegador."}},placeholders:{taskInput:"📝 Escribe tus tareas (una por línea)",search:"Buscar tareas"},priorities:{low:"Baja 🔵",medium:"Media 🟠",high:"Alta 🔴"},actions:{addTasks:"➕ Añadir Tareas",deleteTasks:"🗑️ Eliminar Tareas",toggleTheme:"🌓 Cambiar Tema",deleteTaskConfirm:e=>`Eliminar tarea "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Eliminar todas las tareas (${e}) 🔄🗑️`,changeLanguage:"🌐 Cambiar Idioma",toggleLanguage:"🌐 Elije entre Portugués, Inglés y Español",toggleTask:(e,t)=>e?`🛑 Marcar "${t}" como pendiente.`:`✅ Marcar "${t}" como completada.`,tasksView:e=>e?"Descompactar 📋":"Compactar 📋",shareTasks:"🔗 Compartir Tareas",chooseShareOptions:"Elige las opciones de compartición:"},filters:{status:{all:"Todas 📋",completed:"Completadas ✅",pending:"Pendientes ⏳"},priority:{all:"Todas 📋",low:"Baja 🔵",medium:"Media 🟠",high:"Alta 🔴"}},taskDetails:{created:e=>`⏱️ Creada: ${e}`,completed:e=>`⏱️ Completada: ${e}`,timeSpent:e=>`⏱️ Tiempo: ${e}`},labels:{taskList:"📋 Lista de Tareas",delete:"Eliminar 🗑️",tolTipCheckBoxShare:e=>`Selecciona qué mostrar en el compartido: ${e}`},infos:{sizeInfo:"Los tamaños son aproximados y pueden variar. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Última tarea completada: ${e.title} hace ${L(+new Date(e.completedAt),+new Date)}`:"No se ha completado ninguna tarea",selectInfo:e=>`📋 Selecciona entre las siguientes opciones: ${Object.values(e)}`,searchInfo:"🔍 Buscar por título."}}},i=(e,t,...s)=>{try{if(!e||!t)throw new Error("Idioma e caminho são obrigatórios");if(!G[e])return`Idioma "${e}" não disponível`;const a=t.split(".").reduce((o,r)=>{if(typeof o=="string"||typeof o=="function")throw new Error(`Caminho inválido: "${t}"`);if(!o[r])throw new Error(`Chave "${r}" não encontrada`);return o[r]},G[e]);if(typeof a=="function")return a(...s);if(typeof a=="string"||typeof a=="object")return a;throw new Error("Valor encontrado não é um texto ou função")}catch(a){return console.warn("Erro ao obter texto:",a.message,{lang:e,path:t,args:s}),`Texto não encontrado para "${t}" no idioma "${e}"`}},ge="todoApp";let N="";const Te=()=>{if(N.trim()==="")throw new Error("Prefix must be set using setAppPrefix before performing any operations.")},ke=e=>{if(typeof e!="string"||e.trim()==="")throw new Error("Key must be a non-empty string.")},Z=(e,t)=>(Te(),ke(e),t(N+e)),ye=e=>{if(typeof e!="string"||e.trim()==="")throw new Error("Prefix should be a non-empty string.");N=e.trim()+"_"},be=(e,t)=>{Z(e,s=>{const a=typeof t=="object"?JSON.stringify(t):t;localStorage.setItem(s,a)})},Se=e=>Z(e,t=>{const s=localStorage.getItem(t);if(!s)return null;try{return s.startsWith("{")||s.startsWith("[")||s==="null"||s==="true"||s==="false"||!isNaN(+s)?JSON.parse(s):s}catch(a){return console.warn(`Erro ao processar valor para a chave "${t}"`,a),s}}),$={setAppPrefix:ye,setItem:be,getItem:Se};$.setAppPrefix(ge);const y=()=>$.getItem("tasks")||[],ee=$.getItem("theme")||"light",Ee=$.getItem("language"),$e=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1),te=e=>{if(e==null)return"0 bytes";const t=JSON.stringify(e),s=new Blob([t]).size;return s<1024?`${s.toLocaleString()} bytes`:s<1024*1024?`${(s/1024).toFixed(2)} KB`:`${(s/1048576).toFixed(2)} MB`},d=(e,...t)=>({type:e,props:{children:[...t]}}),T=e=>({type:null,props:{nodeValue:e}}),E=e=>d("span",T(e)),se=(e,t=!1)=>{const s=e.length||0,a=e.filter(p=>p.completed).length,o=s-a,r=document.querySelector("#stats"),c=ae(e),l=i(n(),"notifications.summary",s,o,a);if(r&&(r.innerHTML=l,r.title=i(n(),"infos.lastCompletedTask",c)),!t)return l},V=e=>{const t=document.querySelector("div #sizeInfo");t&&(t.innerHTML=i(n(),"notifications.storageUsage",te(e)))},I=e=>{$.setItem("tasks",e),se(e,!0)},H=e=>new Date(e).toLocaleString(n()),we=e=>{if(!e)return null;const t=e.replace(/,/g,"").match(/\d+/g);if(!t)return null;const[s,a,o,r,c,l]=t;return new Date(+o,+a-1,+s,+r,+c,+l)},L=(e,t)=>{const s=t-e,a=Math.floor(s/(1e3*60)),o=Math.floor(a/60),r=Math.floor(o/24);return r>0?`${r} dia(s)`:o>0?`${o} hora(s)`:`${a} minuto(s)`},n=()=>(Ee||navigator.language||"pt-br").toLowerCase(),ae=e=>e.filter(s=>s.completed).sort((s,a)=>+new Date(a.completedAt)-+new Date(s.completedAt))[0],g=(e,t,s,a="",o="")=>{const r={type:"button",props:{children:[d("span",T(e))]}};return t&&(r.props.onClick=t),a&&(r.props.class=a),o&&(r.props.title=o),r},oe=e=>{const t=document.querySelector("select#statusFilter"),s=t?t==null?void 0:t.value:"all",a=document.querySelector("select#priorityFilter"),o=a?a==null?void 0:a.value:"all";return e.filter(r=>{const c=s==="all"||s==="completed"&&r.completed||s==="pending"&&!r.completed,l=o==="all"||r.priority===o;return c&&l})},ve=e=>oe(e).map(s=>{const{id:a,title:o,priority:r,completed:c,createdAt:l,completedAt:p}=s,m=g($e(i(n(),"priorities")[r]),fe=>{Pe(fe,e)},"",`task-priority priority-${r}`,i(n(),"infos.selectInfo",i(n(),"priorities")));m.props&&(m.props["data-id"]=a);const u=d("span",T(o));u.props.class="task-title";const f=d("input");f.props.class="task-checkbox",f.props.type="checkbox",f.props.id=`task-${a}`,c&&(f.props.checked=""),f.props.onchange=()=>De(a,e);const S=d("div",f,u);S.props.class="task-header";const k=d("div");k.props.children.push(E(i(n(),"taskDetails.created",H(l)))),c&&k.props.children.push(E(i(n(),"taskDetails.completed",H(p)))),k.props.children.push(E(i(n(),"taskDetails.timeSpent",c?L(+new Date(l),+new Date(p)):L(+new Date(l),+new Date)))),k.props.class="task-dates";const C=d("label",S,k);C.props.for=`task-${a}`,C.props.title=i(n(),"actions.toggleTask",c,o);const A=d("div",C,m);A.props.class="task-wrapper";const O=g(i(n(),"labels.delete"),()=>Me(a,e),"","delete-button",i(n(),"actions.deleteTaskConfirm",o)),J=d("div",O);J.props.class="task-actions";const X=d("div",A,J);return X.props.class=`task-card ${c?"task-completed":""}`,X}),b=e=>{const t=document.querySelector(".btn-remove-all");t&&(t.classList.toggle("hidden",e.length===0),t.title=i(n(),"actions.deleteAllTasksConfirm",e.length));const s=ve(e),a=document.querySelector("#taskList");a&&(D.cleanup(a),a.innerHTML="",s.forEach(o=>{w(o,!0,a)}))},Ce=(e,t="show")=>({type:"div",props:{id:"snackbar",children:[T(e)],class:t}}),B=new Set,Le=(e,t)=>{let s=document.querySelector(".snackbar-container");if(!s){const c=d("div");c.props.class="snackbar-container";const l=w(c,!0);l instanceof HTMLElement&&(s=l)}const a=`snackbar-${Date.now()}`,o=Ce(e);o.props.id="snackbar",o.props["data-id"]=a,B.add(a);const r=w(o,!0,s);setTimeout(()=>{r.remove(),B.delete(a),B.size===0&&s&&s.remove()},t)},h=(e,t=3e3)=>{Le(e,t)},M=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");t instanceof HTMLDialogElement&&(D.cleanup(t),t.close(),t.remove())},Ie=(e,t,s,a="OK",o="Confirmar",r=M,c="Cancelar",l="Fechar")=>{if(!s||typeof s!="function")throw new Error("confirmeHandler must be a function");const p=t!==""?`dialog-modal ${t}`:"dialog-modal",m=g(a,s,"","",o),u=g(c,r,"","button-secondary",l);u.props&&(u.props.formmethod="dialog");const f=d("form",m,u);f.props&&(f.props.method="dialog");const S=g("X",M,"","close","Fechar"),k=d("dialog",S,e,f);return e.props&&(e.props.class="dialog-content"),k.props.class=p,k},xe=e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest("button");if(!t)return;const a=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";t.title=i(n(),"notifications.themeToggled",a),document.documentElement.setAttribute("data-theme",a),$.setItem("theme",a),h(i(n(),"notifications.themeChanged",a))},Ae=e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.querySelector("option:checked");if(t){const s=t==null?void 0:t.textContent;h(i(n(),"notifications.priorityUpdated",s))}},re=()=>{const e=y();b(e),h(i(n(),"notifications.filtersApplied"))},De=(e,t)=>{const s=t.find(a=>a.id===e);if(s){s.completed=!s.completed,s.completedAt=s.completed?new Date:s.createdAt,I(t),b(t),h(i(n(),"notifications.taskStatusChanged",s));return}h(i(n(),"notifications.taskNotFound"))},Me=(e,t)=>{const s=t.find(o=>o.id===e),a=t.filter(o=>o.id!==e);I(a),b(a),V(a),h(i(n(),"notifications.taskDeleted",s))},Pe=(e,t)=>{if(!(e.target instanceof HTMLElement))return;const s=e.target.closest("button"),a=s==null?void 0:s.dataset.id;if(!s||!a)return;const o=t.find(m=>m.id===Number(a));if(!o)return;const r=Object.keys(i(n(),"priorities")),l=(r.indexOf(o.priority)+1)%r.length;o.priority=r[l];const p=i(n(),"priorities")[o.priority];I(t),b(t),h(i(n(),"notifications.priorityUpdated",p))},Oe=()=>{const e=y();e.length=0,I(e),b(e),V(e),h(i(n(),"notifications.allTasksDeleted"))},F=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");if(!t)return;const s=t.querySelector('input[name="language"]:checked');s instanceof HTMLInputElement&&h(i(n(),"notifications.languageSelected",s.value))},U=(e,t,s,a,o,r,c,l)=>{const p=w(Ie(e,t,s,a,o,r,c,l),!0);p instanceof HTMLDialogElement&&p.showModal()},Be=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");if(!t)return;const s=t.querySelector('input[name="language"]:checked');s instanceof HTMLInputElement&&$.setItem("language",s.value),M(e),window.location.reload()},Fe=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("button"),s=e.target.closest("span"),a=document.querySelector("#taskList");if(!t||!a||!s)return;const o=a.classList.contains("task-card-compact");a.classList.toggle("task-card-compact",!o),t.title=i(n(),"actions.tasksView",!o),s.textContent=i(n(),"actions.tasksView",!o)};let Y;const qe=e=>{if(e.preventDefault(),!(e.target instanceof HTMLInputElement))return;const t=e.target.value.toLowerCase().trim();clearTimeout(Y);const s=y();Y=setTimeout(()=>{const a=s.filter(o=>o.title.toLowerCase().includes(t));b(a)},300)},v=()=>{const e=document.querySelector("#shareStatusFilter"),t=document.querySelector("#sharePriorityFilter"),s=document.querySelector("#shareCheckBoxPriority"),a=document.querySelector("#shareCheckBoxCompleted"),o=document.querySelector("#shareCheckBoxCreatedAt"),r=document.querySelector("#contentShare"),c=document.querySelector("select#statusFilter"),l=document.querySelector("select#priorityFilter"),p=y();if(!e||!t||!c||!l||!r){h(i(n(),"notifications.shareTasks.error"));return}c.value=e.value,l.value=t.value;const m=({title:u,completed:f,priority:S,createdAt:k})=>{const C=a!=null&&a.checked?`[${f?"✅":"❌"}] `:"",A=s!=null&&s.checked?`[${S==="high"?"🔴":S==="low"?"🔵":"🟠"}] `:"",O=o!=null&&o.checked?`
[${H(k)}]`:"";return`${C}${A}${u}${O}
`};r.textContent=oe(p).map(m).join("")},He=async e=>{var a;const t=document.querySelector("#contentShare");if(!t)return;const s=(a=t.textContent)==null?void 0:a.trim();if(s){if(!navigator.clipboard){h(i(n(),"notifications.shareTasks.unsupported"));return}try{await navigator.clipboard.writeText(s),h(i(n(),"notifications.shareTasks.success"))}catch{h(i(n(),"notifications.shareTasks.error"))}finally{M(e)}}},q=(e,t,s,a=!1,o="",r="",c=null)=>{const l=d("input");l.props.type="radio",l.props.name=e,l.props.value=t,a&&(l.props.checked="checked"),r&&(l.props.id=r),c&&(l.props.onChange=c);const p=d("label",E(s),l);return o&&(p.props.class=o),r&&(p.props.for=r),p},ze=ee==="light"?"dark":"light",Ne=d("div",d("h3",T(i(n(),"app.modalLang.title"))),d("fieldset",d("legend",T(i(n(),"actions.changeLanguage"))),q("language","pt-br",i(n(),"app.pt-br"),!0,"","",F),q("language","en-us",i(n(),"app.en-us"),!1,"","",F),q("language","es-es",i(n(),"app.es-es"),!1,"","",F))),Ve=d("h1",T(i(n(),"app.title"))),Ue=g(i(n(),"actions.toggleTheme"),xe,"","button-secondary",i(n(),"notifications.themeToggled",ze)),je=g(i(n(),"actions.changeLanguage"),()=>{U(Ne,"lang-modal",Be)},"","lang-modal-button",i(n(),"actions.toggleLanguage")),ne=d("div",Ue,je);ne.props.class="header-actions";const ie=d("header",Ve,ne);ie.props.class="header";const j=(e,t,s=!1,a="",o="",r="",c=null)=>{if(!c||typeof c!="function")throw new Error("onChangeHandler must be a function");const l=d("input");l.props.type="checkbox",l.props.value=e,l.props.onChange=c,s&&(l.props.checked="checked"),o&&(l.props.id=o);const p=d("label",E(t),l);return p.props.class=`label-input-checked ${a}`,r&&(p.props.title=r),o&&(p.props.for=o),p},x=(e,t,s,a="")=>{if(!s||typeof s!="function")throw new Error("onChangeHandler must be a function");const o=Object.entries(t).map(([c,l])=>{const p=d("option",T(l));return p.props.value=c,p}),r=d("select",...o);return e&&(r.props.id=e),r.props.title=i(n(),"infos.selectInfo",t),r.props.onChange=s,r},Re=d("div",d("h3",T(i(n(),"app.modalDeleteTasks.title")))),Ke=x("shareStatusFilter",i(n(),"filters.status"),v),_e=x("sharePriorityFilter",i(n(),"filters.priority"),v),We=j("priority","Prioridades",!1,"","shareCheckBoxPriority",i(n(),"labels.tolTipCheckBoxShare","Prioridades"),v),Je=j("completed","Status",!1,"","shareCheckBoxCompleted",i(n(),"labels.tolTipCheckBoxShare","Status"),v),Xe=j("createdAt","Data de criação",!1,"","shareCheckBoxCreatedAt",i(n(),"labels.tolTipCheckBoxShare","Data de criação"),v),ce=d("code");ce.props.id="contentShare";const Ge=d("pre",ce),Ye=d("div",d("h3",T(i(n(),"app.modalShareTasks.title"))),d("fieldset",d("legend",T(i(n(),"actions.chooseShareOptions"))),Ke,_e,We,Je,Xe),Ge),Qe=g(i(n(),"actions.shareTasks"),()=>{U(Ye,"share-modal scrollbar",He,i(n(),"actions.shareTasks")),v()},"","btn-share-tasks",i(n(),"actions.shareTasks")),Ze=g(i(n(),"actions.deleteTasks"),()=>{U(Re,"remove-all-modal",Oe)},"","button-secondary",i(n(),"actions.deleteAllTasksConfirm",y().length)),et=d("footer",Qe,Ze),tt=(e,t="search",s="search",a="Pesquisar",o="Pesquisar")=>{if(!e||typeof e!="function")throw new Error("onInputHandler must be a function");const r=s!==""?`label-input-search ${s}`:"label-input-search",c=d("input");c.props.id=t,c.props.type="search",c.props.name=t,c.props.placeholder=a,c.props.onInput=e;const l=d("label",c);return l.props.for=t,l.props.class=r,l.props.title=o,l},z={COMPLETE:"✅",INCOMPLETE:"❌"},st={high:"🔵",medium:"🟠",low:"🔴"},Q=/^\[\d{2}\/\d{2}\/\d{4}, \d{2}:\d{2}:\d{2}\]$/,at=()=>{const e=y(),t=document.querySelector("#taskInput"),s=document.querySelector("select#prioritySelect"),a=(t==null?void 0:t.value.trim().split(`
`).filter(Boolean))||[];if(!a.length){h(i(n(),"notifications.taskEmpty"));return}const r=ot(a).map(([c,l])=>rt(c,l,(s==null?void 0:s.value)||"low"));e.push(...r),lt(t,e)},ot=e=>{var s;const t=[];for(let a=0;a<e.length;a++){const o=e[a].trim();if(Q.test(o))continue;const r=(s=e[a+1])==null?void 0:s.trim(),l=r&&Q.test(r)?r:null;t.push([o,l])}return t},rt=(e,t,s)=>{const a=new Date,o=Object.values({...z,...st}).some(m=>e.includes(`[${m}]`)),r=nt(e),c=it(e,s),l=e.replace(/\[.*?\]/g,"").trim(),p=ct(t);return{id:Date.now()+Math.random(),title:l,priority:o?c:s,completed:r===z.COMPLETE,createdAt:p||a,completedAt:a}},nt=e=>{const t=e.match(/\[(✅|❌)\]/);return t?t[1]:z.INCOMPLETE},it=(e,t)=>{const s=e.match(/\[(🔵|🟠|🔴)\]/);return s&&{"🔴":"high","🟠":"medium","🔵":"low"}[s[1]]||t},ct=e=>{if(!e)return null;if(!e)return new Date;const t=e.toString().replace(/[\[\]]/g,"").trim();return we(t)},lt=(e,t)=>{e&&(e.value=""),I(t),b(t),V(t),h(i(n(),"notifications.tasksAdded"))},R=y(),dt=ae(R),K=E(se(R)||"");K.props.title=i(n(),"infos.lastCompletedTask",dt);K.props.id="stats";const _=E(i(n(),"notifications.storageUsage",te(R)));_.props.title=i(n(),"infos.sizeInfo");_.props.id="sizeInfo";const le=d("div",K,_);le.props.class="infos";const P=d("textarea");P.props.id="taskInput";P.props.class="scrollbar";P.props.placeholder=i(n(),"placeholders.taskInput");const pt=x("prioritySelect",i(n(),"priorities"),Ae),ut=g(i(n(),"actions.addTasks"),at,"","",i(n(),"actions.addTasks")),de=d("div",pt,ut);de.props.class="input-group-actions";const pe=d("div",P,de);pe.props.class="input-group";const ue=d("div",pe);ue.props.class="input-section";const mt=x("statusFilter",i(n(),"filters.status"),re),ht=x("priorityFilter",i(n(),"filters.priority"),re),ft=g(i(n(),"actions.tasksView",!1),Fe,"","button-secondary",i(n(),"actions.tasksView",!1)),gt=tt(qe,"search","search-task",i(n(),"placeholders.search"),i(n(),"infos.searchInfo")),me=d("div",mt,ht,ft,gt);me.props.class="filters";const W=d("div");W.props.id="taskList";W.props.class="task-list";const he=d("div",ie,le,ue,me,W,et);he.props.class="container";const Tt=()=>{try{const e=document.getElementById("app"),t=y();if(document.documentElement.setAttribute("data-theme",ee),!e)throw new Error('Elemento com o ID "app" não encontrado.');w(he,!0,e),b(t),h(i(n(),"notifications.appStarted"))}catch(e){console.error(e),h(i(n(),"notifications.startError",e.message))}};document.addEventListener("DOMContentLoaded",Tt);
