(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const D={eventHandlers:new Map,initializedContainers:new Set,handlerId:0,init(e=document.body){if(this.initializedContainers.has(e))return;["click","submit","change","input","keyup","keydown","mouseenter","mouseleave","focus","blur"].forEach(a=>{e.addEventListener(a,s=>{let o=s.target;if(o)for(;o&&o!==e&&o instanceof HTMLElement;){const r=o.dataset.handlerId;if(r){const c=this.eventHandlers.get(r);if(c&&c[a]){c[a](s),s.stopPropagation();break}}o=o.parentElement}},{passive:["scroll","touchmove"].includes(a)})}),this.initializedContainers.add(e)},registerEventHandlers(e,t){const a=`h${++this.handlerId}`,s={};return Object.entries(t).forEach(([o,r])=>{const c=o.replace(/^on/i,"").toLowerCase();s[c]=r}),this.eventHandlers.set(a,s),e.dataset.handlerId=a,a},removeEventHandlers(e){this.eventHandlers.delete(e)},cleanup(e){const t=e.dataset.handlerId;t&&(this.removeEventHandlers(t),delete e.dataset.handlerId,--this.handlerId),e.querySelectorAll("[data-handler-id]").forEach(a=>{const s=a,o=s.dataset.handlerId;o&&(this.removeEventHandlers(o),delete s.dataset.handlerId,--this.handlerId)})}},$=({type:e,props:t={}},a=!1,s=document.body)=>{try{if(D.init(document.body),e!=null&&typeof e!="string")throw new Error(`Invalid element type: ${e}`);const o=e?document.createElement(e):document.createTextNode(t.nodeValue||"");if(e){const r={},c={};Object.entries(t).forEach(([m,u])=>{m.startsWith("on")&&typeof u=="function"?r[m]=u:["children","nodeValue"].includes(m)||(c[m]=u)}),o instanceof HTMLElement&&(Object.keys(r).length>0&&D.registerEventHandlers(o,r),Object.entries(c).forEach(([m,u])=>{if(typeof u!="string"&&typeof u!="number")throw new Error(`Invalid attribute value for ${m}: ${u}`);const g=typeof u=="number"?String(u):u;o.setAttribute(m,g)}));const l=document.createDocumentFragment();(Array.isArray(t.children)?t.children:[]).forEach(m=>{const u=$(m,!1,s);u&&l.appendChild(u)}),o.appendChild(l)}return a?s.appendChild(o):o}catch(o){throw console.error("Error rendering element:",o),o}},J={"pt-br":{app:{title:"📋 Lista de Tarefas",modalLang:{title:"Escolha uma nova lingua."},modalDeleteTasks:{title:"Tem certeza de que deseja remover todas as tarefas?"},modalShareTasks:{title:"Compartilhar Tarefas!"},"pt-br":"Português 🇧🇷","en-us":"English 🇺🇸","es-es":"Español 🇪🇸"},notifications:{appStarted:"🚀 O aplicativo iniciado com sucesso!",startError:e=>`❌ Ocorreu um erro ao iniciar o aplicativo. ${e}`,themeToggled:e=>`🌓 Alternar Tema para ${e}`,themeChanged:e=>`Tema alterado para ${e} 🌓`,priorityUpdated:e=>`🔄 Prioridade alterada para ${e}`,tasksAdded:"✅ Tarefa(s) adicionada(s) com sucesso!",filtersApplied:"🎯 Filtros aplicados com sucesso!",taskStatusChanged:e=>`Tarefa "${e.title}" ${e.completed?"concluída":"pendente"}!`,taskNotFound:"⚠️ Tarefa não encontrada!",taskDeleted:e=>`🗑️ Tarefa "${e.title}" excluída com sucesso!`,allTasksDeleted:"🗑️ Todas as tarefas excluídas com sucesso!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,a)=>`Total: ${e} | Pendentes: ${t} | Concluídas: ${a} 📊`,languageSelected:e=>`🌐 ${e} Selecionado com sucesso! Clique em OK para aplicar!`,taskEmpty:"📋 Lista de Tarefas Vazia!",shareTasks:{success:"🎉 Tarefas compartilhadas com sucesso!",error:"❌ Erro ao compartilhar tarefas. Tente novamente.",unsupported:"⚠️ Compartilhamento de tarefas não é suportado neste navegador."}},placeholders:{taskInput:"📝 Digite suas tarefas (uma por linha)",search:"Pesquisar Tarefas"},priorities:{low:"Baixa 🔵",medium:"Média 🟠",high:"Alta 🔴"},actions:{addTasks:"➕ Adicionar Tarefas",deleteTasks:"🗑️ Remover Tarefas",toggleTheme:"🌓 Alternar Tema",deleteTaskConfirm:e=>`Excluir tarefa "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Excluir todas as tarefas (${e}) 🔄🗑️`,changeLanguage:"🌐 Mudar Idioma",toggleLanguage:"🌐 Mudar Idioma! Português, English e Español",toggleTask:(e,t)=>e?`🛑 Marcar "${t}" como pendente.`:`✅ Marcar "${t}" como concluída.`,tasksView:e=>e?"Descompactar 📋":"Compactar 📋",shareTasks:"🔗 Compartilhar Tarefas",chooseShareOptions:"Escolha as opções de compartilhamento:"},filters:{status:{all:"Todos 📋",completed:"Concluídas ✅",pending:"Pendentes ⏳"},priority:{all:"Todos 📋",low:"Baixa 🔵",medium:"Média 🟠",high:"Alta 🔴"}},taskDetails:{created:e=>`⏱️ Criada: ${e}`,completed:e=>`⏱️ Concluída: ${e}`,timeSpent:e=>`⏱️ Tempo: ${e}`},labels:{taskList:"📋 Lista de Tarefas",delete:"Excluir 🗑️",tolTipCheckBoxShare:e=>`Selecione o que exibir no compartilhamento: ${e}`},infos:{sizeInfo:"Os tamanhos são aproximados e podem variar. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Última tarefa concluída: ${e.title} a ${L(+new Date(e.completedAt),+new Date)}`:"Nenhuma tarefa concluída",selectInfo:e=>`📋 Selecione entre as seguintes opções: ${Object.values(e).join(", ")}`,searchInfo:"🔍 Pesquise pelo titulo."}},"en-us":{app:{title:"📋 Task List",modalLang:{title:"Choose a new language."},modalDeleteTasks:{title:"Are you sure you want to remove all tasks?"},modalShareTasks:{title:"Share Tasks!"},"pt-br":"Portuguese 🇧🇷","en-us":"English 🇺🇸","es-es":"Spanish 🇪🇸"},notifications:{appStarted:"🚀 Application started successfully!",startError:e=>`❌ An error occurred while starting the application. ${e}`,themeToggled:e=>`🌓 Toggle Theme to ${e}`,themeChanged:e=>`Theme changed to ${e} 🌓`,priorityUpdated:e=>`🔄 Priority updated to ${e}`,tasksAdded:"✅ Task(s) added successfully!",filtersApplied:"🎯 Filters applied successfully!",taskStatusChanged:e=>`Task "${e.title}" ${e.completed?"completed":"pending"}!`,taskNotFound:"⚠️ Task not found!",taskDeleted:e=>`🗑️ Task "${e.title}" deleted successfully!`,allTasksDeleted:"🗑️ All tasks deleted successfully!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,a)=>`Total: ${e} | Pending: ${t} | Completed: ${a} 📊`,languageChanged:e=>`Language changed to ${e} 🌐`,languageSelected:e=>`🌐 ${e} Language selected successfully! Click OK to apply!`,taskEmpty:"📋 Task List Empty!",shareTasks:{success:"🎉 Tasks shared successfully!",error:"❌ Error sharing tasks. Try again.",unsupported:"⚠️ Sharing tasks is not supported in this browser."}},placeholders:{taskInput:"📝 Enter your tasks (one per line)",search:"Search tasks"},priorities:{low:"Low 🔵",medium:"Medium 🟠",high:"High 🔴"},actions:{addTasks:"➕ Add Tasks",deleteTasks:"🗑️ Remove Tasks",toggleTheme:"🌓 Toggle Theme",deleteTaskConfirm:e=>`Delete task "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Delete all tasks (${e}) 🔄🗑️`,changeLanguage:"🌐 Change Language",toggleLanguage:"🌐 Choose between Portuguese, English and Spanish",toggleTask:(e,t)=>e?`🛑 Mark "${t}" as pending.`:`✅ Mark "${t}" as completed.`,tasksView:e=>e?"Uncompact 📋":"Compact 📋",shareTasks:"🔗 Share Tasks",chooseShareOptions:"Choose the sharing options:"},filters:{status:{all:"All 📋",completed:"Completed ✅",pending:"Pending ⏳"},priority:{all:"All 📋",low:"Low 🔵",medium:"Medium 🟠",high:"High 🔴"}},taskDetails:{created:e=>`⏱️ Created: ${e}`,completed:e=>`⏱️ Completed: ${e}`,timeSpent:e=>`⏱️ Time: ${e}`},labels:{taskList:"📋 Task List",delete:"Delete 🗑️",tolTipCheckBoxShare:e=>`Select what to display in the share: ${e}`},infos:{sizeInfo:"The sizes are approximate and may vary. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Last completed task: ${e.title} at ${L(+new Date(e.completedAt),+new Date)}`:"No tasks completed",selectInfo:e=>`📋 Select between the following options: ${Object.values(e)}`,searchInfo:"🔍 Search for title."}},"es-es":{app:{title:"📋 Lista de Tareas",modalLang:{title:"Elige un nuevo idioma."},modalDeleteTasks:{title:"¿Estás seguro de querer eliminar todas las tareas?"},modalShareTasks:{title:"¡Comparte tus tareas!"},"pt-br":"Portugués 🇧🇷","en-us":"Inglés 🇺🇸","es-es":"Español 🇪🇸"},notifications:{appStarted:"🚀 ¡Aplicación iniciada con éxito!",startError:e=>`❌ Ocurrió un error al iniciar la aplicación. ${e}`,themeToggled:e=>`🌓 Cambiar Tema a ${e}`,themeChanged:e=>`Tema cambiado a ${e} 🌓`,priorityUpdated:e=>`🔄 Prioridad cambiada a ${e}`,tasksAdded:"✅ ¡Tarea(s) añadida(s) con éxito!",filtersApplied:"🎯 ¡Filtros aplicados con éxito!",taskStatusChanged:e=>`Tarea "${e.title}" ${e.completed?"completada":"pendiente"}!`,taskNotFound:"⚠️ ¡Tarea no encontrada!",taskDeleted:e=>`🗑️ Tarea "${e.title}" eliminada con éxito!`,allTasksDeleted:"🗑️ ¡Todas las tareas eliminadas con éxito!",storageUsage:e=>`🗂️ ~${e} / ~10 MB`,summary:(e,t,a)=>`Total: ${e} | Pendientes: ${t} | Completadas: ${a} 📊`,languageChanged:e=>`Idioma cambiado a ${e} 🌐`,languageSelected:e=>`🌐 ${e} Idioma seleccionado con éxito! Click OK para aplicar!`,taskEmpty:"📋 Lista de Tareas Vacía!",shareTasks:{success:"🎉 ¡Tareas compartidas con éxito!",error:"❌ Error al compartir tareas. Inténtalo de nuevo.",unsupported:"⚠️ Compartir tareas no es compatible en este navegador."}},placeholders:{taskInput:"📝 Escribe tus tareas (una por línea)",search:"Buscar tareas"},priorities:{low:"Baja 🔵",medium:"Media 🟠",high:"Alta 🔴"},actions:{addTasks:"➕ Añadir Tareas",deleteTasks:"🗑️ Eliminar Tareas",toggleTheme:"🌓 Cambiar Tema",deleteTaskConfirm:e=>`Eliminar tarea "${e}" 🗑️`,deleteAllTasksConfirm:e=>`Eliminar todas las tareas (${e}) 🔄🗑️`,changeLanguage:"🌐 Cambiar Idioma",toggleLanguage:"🌐 Elije entre Portugués, Inglés y Español",toggleTask:(e,t)=>e?`🛑 Marcar "${t}" como pendiente.`:`✅ Marcar "${t}" como completada.`,tasksView:e=>e?"Descompactar 📋":"Compactar 📋",shareTasks:"🔗 Compartir Tareas",chooseShareOptions:"Elige las opciones de compartición:"},filters:{status:{all:"Todas 📋",completed:"Completadas ✅",pending:"Pendientes ⏳"},priority:{all:"Todas 📋",low:"Baja 🔵",medium:"Media 🟠",high:"Alta 🔴"}},taskDetails:{created:e=>`⏱️ Creada: ${e}`,completed:e=>`⏱️ Completada: ${e}`,timeSpent:e=>`⏱️ Tiempo: ${e}`},labels:{taskList:"📋 Lista de Tareas",delete:"Eliminar 🗑️",tolTipCheckBoxShare:e=>`Selecciona qué mostrar en el compartido: ${e}`},infos:{sizeInfo:"Los tamaños son aproximados y pueden variar. 🗂️",lastCompletedTask:e=>e!=null&&e.completed?`⏱️ Última tarea completada: ${e.title} hace ${L(+new Date(e.completedAt),+new Date)}`:"No se ha completado ninguna tarea",selectInfo:e=>`📋 Selecciona entre las siguientes opciones: ${Object.values(e)}`,searchInfo:"🔍 Buscar por título."}}},i=(e,t,...a)=>{try{if(!e||!t)throw new Error("Idioma e caminho são obrigatórios");if(!J[e])return`Idioma "${e}" não disponível`;const s=t.split(".").reduce((o,r)=>{if(typeof o=="string"||typeof o=="function")throw new Error(`Caminho inválido: "${t}"`);if(!o[r])throw new Error(`Chave "${r}" não encontrada`);return o[r]},J[e]);if(typeof s=="function")return s(...a);if(typeof s=="string"||typeof s=="object")return s;throw new Error("Valor encontrado não é um texto ou função")}catch(s){return console.warn("Erro ao obter texto:",s.message,{lang:e,path:t,args:a}),`Texto não encontrado para "${t}" no idioma "${e}"`}};let z="";const fe=()=>{if(z.trim()==="")throw new Error("Prefix must be set using setAppPrefix before performing any operations.")},ge=e=>{if(typeof e!="string"||e.trim()==="")throw new Error("Key must be a non-empty string.")},Y=(e,t)=>(fe(),ge(e),t(z+e)),Te=e=>{if(typeof e!="string"||e.trim()==="")throw new Error("Prefix should be a non-empty string.");z=e.trim()+"_"},ke=(e,t)=>{Y(e,a=>{const s=typeof t=="object"?JSON.stringify(t):t;localStorage.setItem(a,s)})},ye=e=>Y(e,t=>{const a=localStorage.getItem(t);if(!a)return null;try{return a.startsWith("{")||a.startsWith("[")||a==="null"||a==="true"||a==="false"||!isNaN(+a)?JSON.parse(a):a}catch(s){return console.warn(`Erro ao processar valor para a chave "${t}"`,s),a}}),E={setAppPrefix:Te,setItem:ke,getItem:ye};E.setAppPrefix("todoApp");const h=E.getItem("tasks")||[],Q=E.getItem("theme")||"light",be=E.getItem("language"),Se=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1),Z=e=>{if(e==null)return"0 bytes";const t=JSON.stringify(e),a=new Blob([t]).size;return a<1024?`${a.toLocaleString()} bytes`:a<1024*1024?`${(a/1024).toFixed(2)} KB`:`${(a/1048576).toFixed(2)} MB`},d=(e,...t)=>({type:e,props:{children:[...t]}}),k=e=>({type:null,props:{nodeValue:e}}),S=e=>d("span",k(e)),ee=(e,t=!1)=>{const a=e.length||0,s=e.filter(p=>p.completed).length,o=a-s,r=document.querySelector("#stats"),c=te(e),l=i(n(),"notifications.summary",a,o,s);if(r&&(r.innerHTML=l,r.title=i(n(),"infos.lastCompletedTask",c)),!t)return l},N=e=>{const t=document.querySelector("div #sizeInfo");t&&(t.innerHTML=i(n(),"notifications.storageUsage",Z(e)))},I=e=>{E.setItem("tasks",e),ee(e,!0)},q=e=>new Date(e).toLocaleString(n()),Ee=e=>{if(!e)return null;const t=e.replace(/,/g,"").match(/\d+/g);if(!t)return null;const[a,s,o,r,c,l]=t;return new Date(+o,+s-1,+a,+r,+c,+l)},L=(e,t)=>{const a=t-e,s=Math.floor(a/(1e3*60)),o=Math.floor(s/60),r=Math.floor(o/24);return r>0?`${r} dia(s)`:o>0?`${o} hora(s)`:`${s} minuto(s)`},n=()=>(be||navigator.language||"pt-br").toLowerCase(),te=e=>e.filter(a=>a.completed).sort((a,s)=>+new Date(s.completedAt)-+new Date(a.completedAt))[0],T=(e,t,a,s="",o="")=>{const r={type:"button",props:{children:[d("span",k(e))]}};return t&&(r.props.onClick=t),s&&(r.props.class=s),o&&(r.props.title=o),r},ae=e=>{const t=document.querySelector("select#statusFilter"),a=t?t==null?void 0:t.value:"all",s=document.querySelector("select#priorityFilter"),o=s?s==null?void 0:s.value:"all";return e.filter(r=>{const c=a==="all"||a==="completed"&&r.completed||a==="pending"&&!r.completed,l=o==="all"||r.priority===o;return c&&l})},we=e=>ae(e).map(a=>{const{id:s,title:o,priority:r,completed:c,createdAt:l,completedAt:p}=a,m=T(Se(i(n(),"priorities")[r]),he=>{De(he,e)},"",`task-priority priority-${r}`,i(n(),"infos.selectInfo",i(n(),"priorities")));m.props&&(m.props["data-id"]=s);const u=d("span",k(o));u.props.class="task-title";const g=d("input");g.props.class="task-checkbox",g.props.type="checkbox",g.props.id=`task-${s}`,c&&(g.props.checked=""),g.props.onchange=()=>xe(s,e);const w=d("div",g,u);w.props.class="task-header";const y=d("div");y.props.children.push(S(i(n(),"taskDetails.created",q(l)))),c&&y.props.children.push(S(i(n(),"taskDetails.completed",q(p)))),y.props.children.push(S(i(n(),"taskDetails.timeSpent",c?L(+new Date(l),+new Date(p)):L(+new Date(l),+new Date)))),y.props.class="task-dates";const C=d("label",w,y);C.props.for=`task-${s}`,C.props.title=i(n(),"actions.toggleTask",c,o);const A=d("div",C,m);A.props.class="task-wrapper";const me=T(i(n(),"labels.delete"),()=>Ae(s,e),"","delete-button",i(n(),"actions.deleteTaskConfirm",o)),W=d("div",me);W.props.class="task-actions";const _=d("div",A,W);return _.props.class=`task-card ${c?"task-completed":""}`,_}),b=e=>{const t=document.querySelector(".btn-remove-all");t&&(t.classList.toggle("hidden",e.length===0),t.title=i(n(),"actions.deleteAllTasksConfirm",e.length));const a=we(e),s=document.querySelector("#taskList");s&&(D.cleanup(s),s.innerHTML="",a.forEach(o=>{$(o,!0,s)}))},$e=(e,t="show")=>({type:"div",props:{id:"snackbar",children:[k(e)],class:t}}),O=new Set,ve=(e,t)=>{let a=document.querySelector(".snackbar-container");if(!a){const c=d("div");c.props.class="snackbar-container";const l=$(c,!0);l instanceof HTMLElement&&(a=l)}const s=`snackbar-${Date.now()}`,o=$e(e);o.props.id="snackbar",o.props["data-id"]=s,O.add(s);const r=$(o,!0,a);setTimeout(()=>{r.remove(),O.delete(s),O.size===0&&a&&a.remove()},t)},f=(e,t=3e3)=>{ve(e,t)},M=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");t instanceof HTMLDialogElement&&(D.cleanup(t),t.close(),t.remove())},Ce=(e,t,a,s="OK",o="Confirmar",r=M,c="Cancelar",l="Fechar")=>{if(!a||typeof a!="function")throw new Error("confirmeHandler must be a function");const p=t!==""?`dialog-modal ${t}`:"dialog-modal",m=T(s,a,"","",o),u=T(c,r,"","button-secondary",l);u.props&&(u.props.formmethod="dialog");const g=d("form",m,u);g.props&&(g.props.method="dialog");const w=T("X",M,"","close","Fechar"),y=d("dialog",w,e,g);return e.props&&(e.props.class="dialog-content"),y.props.class=p,y},Le=e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.closest("button");if(!t)return;const s=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";t.title=i(n(),"notifications.themeToggled",s),document.documentElement.setAttribute("data-theme",s),E.setItem("theme",s),f(i(n(),"notifications.themeChanged",s))},Ie=e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.querySelector("option:checked");if(t){const a=t==null?void 0:t.textContent;f(i(n(),"notifications.priorityUpdated",a))}},se=()=>{b(h),f(i(n(),"notifications.filtersApplied"))},xe=(e,t)=>{const a=t.find(s=>s.id===e);if(a){a.completed=!a.completed,a.completedAt=a.completed?new Date:a.createdAt,I(t),b(t),f(i(n(),"notifications.taskStatusChanged",a));return}f(i(n(),"notifications.taskNotFound"))},Ae=(e,t)=>{const a=t.find(o=>o.id===e),s=t.filter(o=>o.id!==e);I(s),b(s),N(s),f(i(n(),"notifications.taskDeleted",a))},De=(e,t)=>{if(!(e.target instanceof HTMLElement))return;const a=e.target.closest("button"),s=a==null?void 0:a.dataset.id;if(!a||!s)return;const o=t.find(m=>m.id===Number(s));if(!o)return;const r=Object.keys(i(n(),"priorities")),l=(r.indexOf(o.priority)+1)%r.length;o.priority=r[l];const p=i(n(),"priorities")[o.priority];I(t),b(t),f(i(n(),"notifications.priorityUpdated",p))},Me=()=>{h.length=0,I(h),b(h),N(h),f(i(n(),"notifications.allTasksDeleted"))},B=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");if(!t)return;const a=t.querySelector('input[name="language"]:checked');a instanceof HTMLInputElement&&f(i(n(),"notifications.languageSelected",a.value))},V=(e,t,a,s,o,r,c,l)=>{const p=$(Ce(e,t,a,s,o,r,c,l),!0);p instanceof HTMLDialogElement&&p.showModal()},Pe=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("dialog");if(!t)return;const a=t.querySelector('input[name="language"]:checked');a instanceof HTMLInputElement&&E.setItem("language",a.value),M(e),window.location.reload()},Oe=e=>{if(e.preventDefault(),!(e.target instanceof HTMLElement))return;const t=e.target.closest("button"),a=e.target.closest("span"),s=document.querySelector("#taskList");if(!t||!s||!a)return;const o=s.classList.contains("task-card-compact");s.classList.toggle("task-card-compact",!o),t.title=i(n(),"actions.tasksView",!o),a.textContent=i(n(),"actions.tasksView",!o)};let G;const Be=e=>{if(e.preventDefault(),!(e.target instanceof HTMLInputElement))return;const t=e.target.value.toLowerCase().trim();clearTimeout(G),G=setTimeout(()=>{const a=h.filter(s=>s.title.toLowerCase().includes(t));b(a)},300)},v=()=>{const e=document.querySelector("#shareStatusFilter"),t=document.querySelector("#sharePriorityFilter"),a=document.querySelector("#shareCheckBoxPriority"),s=document.querySelector("#shareCheckBoxCompleted"),o=document.querySelector("#shareCheckBoxCreatedAt"),r=document.querySelector("#contentShare"),c=document.querySelector("select#statusFilter"),l=document.querySelector("select#priorityFilter");if(!e||!t||!c||!l||!r)return;c.value=e.value,l.value=t.value;const p=({title:m,completed:u,priority:g,createdAt:w})=>{const y=s!=null&&s.checked?`[${u?"✅":"❌"}] `:"",C=a!=null&&a.checked?`[${g==="high"?"🔴":g==="low"?"🔵":"🟠"}] `:"",A=o!=null&&o.checked?`
[${q(w)}]`:"";return`${y}${C}${m}${A}
`};r.textContent=ae(h).map(p).join("")},Fe=async e=>{var s;const t=document.querySelector("#contentShare");if(!t)return;const a=(s=t.textContent)==null?void 0:s.trim();if(a){if(!navigator.clipboard){f(i(n(),"notifications.shareTasks.unsupported"));return}try{await navigator.clipboard.writeText(a),f(i(n(),"notifications.shareTasks.success"))}catch{f(i(n(),"notifications.shareTasks.error"))}finally{M(e)}}},F=(e,t,a,s=!1,o="",r="",c=null)=>{const l=d("input");l.props.type="radio",l.props.name=e,l.props.value=t,s&&(l.props.checked="checked"),r&&(l.props.id=r),c&&(l.props.onChange=c);const p=d("label",S(a),l);return o&&(p.props.class=o),r&&(p.props.for=r),p},qe=Q==="light"?"dark":"light",He=d("div",d("h3",k(i(n(),"app.modalLang.title"))),d("fieldset",d("legend",k(i(n(),"actions.changeLanguage"))),F("language","pt-br",i(n(),"app.pt-br"),!0,"","",B),F("language","en-us",i(n(),"app.en-us"),!1,"","",B),F("language","es-es",i(n(),"app.es-es"),!1,"","",B))),ze=d("h1",k(i(n(),"app.title"))),Ne=T(i(n(),"actions.toggleTheme"),Le,"","button-secondary",i(n(),"notifications.themeToggled",qe)),Ve=T(i(n(),"actions.changeLanguage"),()=>{V(He,"lang-modal",Pe)},"","lang-modal-button",i(n(),"actions.toggleLanguage")),oe=d("div",Ne,Ve);oe.props.class="header-actions";const re=d("header",ze,oe);re.props.class="header";const U=(e,t,a=!1,s="",o="",r="",c=null)=>{if(!c||typeof c!="function")throw new Error("onChangeHandler must be a function");const l=d("input");l.props.type="checkbox",l.props.value=e,l.props.onChange=c,a&&(l.props.checked="checked"),o&&(l.props.id=o);const p=d("label",S(t),l);return p.props.class=`label-input-checked ${s}`,r&&(p.props.title=r),o&&(p.props.for=o),p},x=(e,t,a,s="")=>{if(!a||typeof a!="function")throw new Error("onChangeHandler must be a function");const o=Object.entries(t).map(([c,l])=>{const p=d("option",k(l));return p.props.value=c,p}),r=d("select",...o);return e&&(r.props.id=e),r.props.title=i(n(),"infos.selectInfo",t),r.props.onChange=a,r},Ue=d("div",d("h3",k(i(n(),"app.modalDeleteTasks.title")))),je=x("shareStatusFilter",i(n(),"filters.status"),v),Ke=x("sharePriorityFilter",i(n(),"filters.priority"),v),Re=U("priority","Prioridades",!1,"","shareCheckBoxPriority",i(n(),"labels.tolTipCheckBoxShare","Prioridades"),v),We=U("completed","Status",!1,"","shareCheckBoxCompleted",i(n(),"labels.tolTipCheckBoxShare","Status"),v),_e=U("createdAt","Data de criação",!1,"","shareCheckBoxCreatedAt",i(n(),"labels.tolTipCheckBoxShare","Data de criação"),v),ne=d("code");ne.props.id="contentShare";const Je=d("pre",ne),Ge=d("div",d("h3",k(i(n(),"app.modalShareTasks.title"))),d("fieldset",d("legend",k(i(n(),"actions.chooseShareOptions"))),je,Ke,Re,We,_e),Je),Xe=T(i(n(),"actions.shareTasks"),()=>{V(Ge,"share-modal scrollbar",Fe,i(n(),"actions.shareTasks")),v()},"","btn-share-tasks",i(n(),"actions.shareTasks")),Ye=T(i(n(),"actions.deleteTasks"),()=>{V(Ue,"remove-all-modal",Me)},"","button-secondary",i(n(),"actions.deleteAllTasksConfirm",h.length)),Qe=d("footer",Xe,Ye),Ze=(e,t="search",a="search",s="Pesquisar",o="Pesquisar")=>{if(!e||typeof e!="function")throw new Error("onInputHandler must be a function");const r=a!==""?`label-input-search ${a}`:"label-input-search",c=d("input");c.props.id=t,c.props.type="search",c.props.name=t,c.props.placeholder=s,c.props.onInput=e;const l=d("label",c);return l.props.for=t,l.props.class=r,l.props.title=o,l},H={COMPLETE:"✅",INCOMPLETE:"❌"},et={high:"🔵",medium:"🟠",low:"🔴"},X=/^\[\d{2}\/\d{2}\/\d{4}, \d{2}:\d{2}:\d{2}\]$/,tt=()=>{const e=document.querySelector("#taskInput"),t=document.querySelector("select#prioritySelect"),a=(e==null?void 0:e.value.trim().split(`
`).filter(Boolean))||[];if(!a.length){f(i(n(),"notifications.taskEmpty"));return}const o=at(a).map(([r,c])=>st(r,c,(t==null?void 0:t.value)||"low"));h.push(...o),it(e)},at=e=>{var a;const t=[];for(let s=0;s<e.length;s++){const o=e[s].trim();if(X.test(o))continue;const r=(a=e[s+1])==null?void 0:a.trim(),l=r&&X.test(r)?r:null;t.push([o,l])}return t},st=(e,t,a)=>{const s=new Date,o=Object.values({...H,...et}).some(m=>e.includes(`[${m}]`)),r=ot(e),c=rt(e,a),l=e.replace(/\[.*?\]/g,"").trim(),p=nt(t);return{id:Date.now()+Math.random(),title:l,priority:o?c:a,completed:r===H.COMPLETE,createdAt:p||s,completedAt:s}},ot=e=>{const t=e.match(/\[(✅|❌)\]/);return t?t[1]:H.INCOMPLETE},rt=(e,t)=>{const a=e.match(/\[(🔵|🟠|🔴)\]/);return a&&{"🔴":"high","🟠":"medium","🔵":"low"}[a[1]]||t},nt=e=>{if(!e)return null;if(!e)return new Date;const t=e.toString().replace(/[\[\]]/g,"").trim();return Ee(t)},it=e=>{e&&(e.value=""),I(h),b(h),N(h),f(i(n(),"notifications.tasksAdded"))},ct=te(h),j=S(ee(h)||"");j.props.title=i(n(),"infos.lastCompletedTask",ct);j.props.id="stats";const K=S(i(n(),"notifications.storageUsage",Z(h)));K.props.title=i(n(),"infos.sizeInfo");K.props.id="sizeInfo";const ie=d("div",j,K);ie.props.class="infos";const P=d("textarea");P.props.id="taskInput";P.props.class="scrollbar";P.props.placeholder=i(n(),"placeholders.taskInput");const lt=x("prioritySelect",i(n(),"priorities"),Ie),dt=T(i(n(),"actions.addTasks"),tt,"","",i(n(),"actions.addTasks")),ce=d("div",lt,dt);ce.props.class="input-group-actions";const le=d("div",P,ce);le.props.class="input-group";const de=d("div",le);de.props.class="input-section";const pt=x("statusFilter",i(n(),"filters.status"),se),ut=x("priorityFilter",i(n(),"filters.priority"),se),mt=T(i(n(),"actions.tasksView",!1),Oe,"","button-secondary",i(n(),"actions.tasksView",!1)),ht=Ze(Be,"search","search-task",i(n(),"placeholders.search"),i(n(),"infos.searchInfo")),pe=d("div",pt,ut,mt,ht);pe.props.class="filters";const R=d("div");R.props.id="taskList";R.props.class="task-list";const ue=d("div",re,ie,de,pe,R,Qe);ue.props.class="container";const ft=()=>{try{const e=document.getElementById("app");if(document.documentElement.setAttribute("data-theme",Q),!e)throw new Error('Elemento com o ID "app" não encontrado.');$(ue,!0,e),b(h),f(i(n(),"notifications.appStarted"))}catch(e){console.error(e),f(i(n(),"notifications.startError",e.message))}};document.addEventListener("DOMContentLoaded",ft);
